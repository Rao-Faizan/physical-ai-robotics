"use strict";(globalThis.webpackChunkphysical_ai_robotics=globalThis.webpackChunkphysical_ai_robotics||[]).push([[4559],{5214:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});var s=t(6540),a=t(7283);const r={container:"container_g293",header:"header_g726",subtitle:"subtitle_IZxk",profileBadge:"profileBadge_LaqZ",warningBadge:"warningBadge_s_7k",mainContent:"mainContent_ly0T",inputSection:"inputSection_JKol",resultSection:"resultSection_ljnw",textArea:"textArea_uSUp",buttonGroup:"buttonGroup_mIEp",primaryButton:"primaryButton_vo6H",secondaryButton:"secondaryButton_kOZN",errorBox:"errorBox_YQm5",adjustmentsBox:"adjustmentsBox_B7F4",personalizedText:"personalizedText_iOmb"};var i=t(4848);function o(){const[e,n]=(0,s.useState)(""),[t,o]=(0,s.useState)(""),[l,c]=(0,s.useState)([]),[d,p]=(0,s.useState)(!1),[h,u]=(0,s.useState)(""),[x,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{const n=JSON.parse(e);m(n)}catch(n){console.error("Failed to parse user data:",n)}},[]);return(0,i.jsx)(a.A,{title:"Personalize Content",description:"Get content adapted to your experience level",children:(0,i.jsxs)("div",{className:r.container,children:[(0,i.jsxs)("div",{className:r.header,children:[(0,i.jsx)("h1",{children:"\ud83c\udfaf Personalize Your Learning Content"}),(0,i.jsxs)("p",{className:r.subtitle,children:["Content will be adapted based on your ",x?"profile":"selected experience level"]}),x&&(0,i.jsxs)("div",{className:r.profileBadge,children:[(0,i.jsxs)("span",{children:["\ud83d\udc64 ",x.name]}),(0,i.jsxs)("span",{children:["\ud83d\udcbb Software: ",x.software_experience]}),(0,i.jsxs)("span",{children:["\ud83e\udd16 Hardware: ",x.hardware_experience]})]}),!x&&(0,i.jsxs)("div",{className:r.warningBadge,children:["\u26a0\ufe0f Not logged in. Default experience level (intermediate) will be used.",(0,i.jsx)("a",{href:"/signin",children:" Sign in"})," for personalized experience."]})]}),(0,i.jsxs)("div",{className:r.mainContent,children:[(0,i.jsxs)("div",{className:r.inputSection,children:[(0,i.jsx)("h2",{children:"Original Content"}),(0,i.jsx)("textarea",{className:r.textArea,placeholder:"Paste the chapter content you want to personalize here...",value:e,onChange:e=>n(e.target.value),rows:15}),(0,i.jsxs)("div",{className:r.buttonGroup,children:[(0,i.jsx)("button",{onClick:async()=>{if(e.trim()){p(!0),u(""),o(""),c([]);try{const n="http://localhost:8000/api",t=x?.software_experience||"intermediate",s=x?.hardware_experience||"intermediate",a=await fetch(`${n}/personalize/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,software_experience:t,hardware_experience:s})});if(!a.ok)throw new Error("Failed to personalize content");const r=await a.json();o(r.personalized_content),c(r.adjustments_made||[])}catch(n){console.error("Personalization error:",n),n instanceof TypeError&&n.message.includes("fetch")?u("Cannot connect to server. Make sure backend is running on port 8000."):u(n instanceof Error?n.message:"Failed to personalize content")}finally{p(!1)}}else u("Please enter some content to personalize")},disabled:d||!e.trim(),className:r.primaryButton,children:d?"\u23f3 Personalizing...":"\u2728 Personalize Content"}),(0,i.jsx)("button",{onClick:()=>{n(""),o(""),c([]),u("")},disabled:d,className:r.secondaryButton,children:"\ud83d\udd04 Reset"})]})]}),h&&(0,i.jsxs)("div",{className:r.errorBox,children:["\u274c ",h]}),t&&(0,i.jsxs)("div",{className:r.resultSection,children:[(0,i.jsx)("h2",{children:"Personalized Content"}),l.length>0&&(0,i.jsxs)("div",{className:r.adjustmentsBox,children:[(0,i.jsx)("h3",{children:"\ud83d\udcdd Adjustments Made:"}),(0,i.jsx)("ul",{children:l.map((e,n)=>(0,i.jsx)("li",{children:e},n))})]}),(0,i.jsx)("div",{className:r.personalizedText,children:(0,i.jsx)("pre",{children:t})})]})]})]})})}}}]);